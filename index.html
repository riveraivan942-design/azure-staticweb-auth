<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Azure Static Web App Login</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 40px; text-align: center; }
        .btn { display: inline-block; margin: 10px; padding: 15px 25px; 
               background: #0078D4; color: white; text-decoration: none; 
               border-radius: 5px; }
        .google { background: #DB4437; }
        .facebook { background: #4267B2; }
        .logout { background: #D13438; }
        .user-info { background: #28A745; color: white; padding: 20px; 
                    border-radius: 8px; margin: 30px auto; width: 300px; }
    </style>
</head>
<body>
    <h1>Azure Static Web App Authentication</h1>
    <h3>Login with:</h3>
    
    <a href="/.auth/login/aad" class="btn">Microsoft</a>
    <a href="/.auth/login/google" class="btn google">Google</a>
    <a href="/.auth/login/facebook" class="btn facebook">Facebook</a>
    
    <div id="userInfo" class="user-info" style="display:none;">
        <h2>User Authenticated</h2>
        <p id="userName"></p>
        <a href="/.auth/logout" class="btn logout">Logout</a>
    </div>
    
    <script>
        fetch('/.auth/me')
            .then(response => response.json())
            .then(user => {
                if (user.clientPrincipal) {
                    document.getElementById('userInfo').style.display = 'block';
                    document.getElementById('userName').textContent = 
                        'Welcome: ' + user.clientPrincipal.userDetails;
                }
            })
            .catch(error => console.log('User not authenticated'));
    </script>
</body>
</html>
